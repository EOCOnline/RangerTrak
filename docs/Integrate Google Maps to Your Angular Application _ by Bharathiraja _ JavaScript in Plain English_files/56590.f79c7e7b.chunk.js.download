(self.webpackChunklite=self.webpackChunklite||[]).push([[56590],{84033:(e,n,i)=>{"use strict";i.d(n,{MA:()=>l,Zh:()=>s,jM:()=>u});var t=i(63038),a=i.n(t),d=i(67294),o={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},l=function(e,n,i,t,a){return e.filter((function(e){var d,o,l,r,s,u;return!(n.indexOf(null===(d=e.post)||void 0===d||null===(o=d.creator)||void 0===o?void 0:o.id)>-1||i.indexOf(null===(l=e.post)||void 0===l||null===(r=l.collection)||void 0===r?void 0:r.id)>-1||t.indexOf(null===(s=e.post)||void 0===s?void 0:s.id)>-1||a.indexOf(null===(u=e.post)||void 0===u?void 0:u.id)>-1)}))},r=d.createContext(o),s=function(e){var n=e.children,i=d.useState(o.mutedAuthorIds),t=a()(i,2),l=t[0],s=t[1],u=d.useState(o.mutedPubIds),c=a()(u,2),m=c[0],k=c[1],v=d.useState(o.dismissedPostIds),p=a()(v,2),S=p[0],f=p[1],N=d.useState(o.seeLessPostIds),b=a()(N,2),F=b[0],g=b[1],P=o.isMutingFromHomeFeed;return d.createElement(r.Provider,{value:{mutedAuthorIds:l,setMutedAuthorIds:s,mutedPubIds:m,setMutedPubIds:k,dismissedPostIds:S,setDismissedPostIds:f,isMutingFromHomeFeed:P,seeLessPostIds:F,setSeeLessPostIds:g}},n)},u=function(){return d.useContext(r)}},37801:(e,n,i)=>{"use strict";i.d(n,{t:()=>W});var t=i(67294),a=i(75341),d=i(60519),o=i(76532),l=i(73891),r=i(68421),s=i(19464),u=i(14391),c=i(319),m=i.n(c),k=i(59713),v=i.n(k),p=i(63038),S=i.n(p),f=i(5977),N=i(84033),b=i(97292),F=i(30570),g=i(36511),P=i(32262),I=i(29169),E=i(42933),h=i(82318),w=i(80362),y=i(79296),C=i(95760),x=i(51512),T=i(85277),A=i(8403),M=i(67297),_=i(93394);function D(){return(D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var V=t.createElement("path",{d:"M6.2 16.8A7.5 7.5 0 1 0 16.8 6.2 7.5 7.5 0 0 0 6.2 16.8z",stroke:"#000",strokeWidth:2,strokeLinecap:"round"}),O=t.createElement("path",{d:"M6 6l11 11",stroke:"#000",strokeWidth:2});const R=function(e){return t.createElement("svg",D({width:19,height:19,viewBox:"0 0 23 23",fill:"none"},e),V,O)};var L=i(46829),U=i(64235),j=i(32589),B=function(e){var n=e.creatorId,i=e.viewerId,a=e.muteAuthor,d=e.hidePopover,o=e.eventData,l=e.isActiveExpandedPost,r=(0,x.pK)(),s=(0,C.Av)(),u={id:n||""},c=(0,j.Pd)(u).viewerEdge,k=!(null==c||!c.isFollowing),v=!(null==c||!c.isMuting),p=(0,F.sK)().clearExpandedState,b=(0,f.k6)(),g=(0,N.jM)(),I=g.mutedAuthorIds,E=g.setMutedAuthorIds,w=g.isMutingFromHomeFeed,y=t.useCallback((function(e){E([].concat(m()(I),[e]))}),[I]),T=(0,L.useMutation)(U.g,{variables:{targetUserId:n||""},optimisticResponse:{unfollowUser:{__typename:"User",id:n||"",viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(i),isFollowing:!1}}}}),A=S()(T,1)[0];return n?k?t.createElement(P.Sl,null,t.createElement(h.r,{onClick:function(){s.event("user.unfollowed",{targetUserId:n,source:r}),A(),d()}},"Unfollow this author")):v?null:t.createElement(P.Sl,null,t.createElement(h.r,{onClick:function(){s.event("user.muted",o),a(),w&&(y(n),l&&(p(),b.goBack())),d()}},"Mute this author")):null},H=i(84783),K=function(e){var n=e.collectionId,i=e.viewerId,a=e.hidePopover,d=e.mutePub,o=e.eventData,r=e.isActiveExpandedPost,s=(0,C.Av)(),u=(0,x.pK)(),c={id:n||""},k=(0,l.gY)(c).viewerEdge,v=!(null==k||!k.isFollowing),p=!(null==k||!k.isMuting),S=(0,H.MT)(n||"",i),b=(0,N.jM)(),g=b.mutedPubIds,I=b.setMutedPubIds,E=b.isMutingFromHomeFeed,w=(0,F.sK)().clearExpandedState,y=(0,f.k6)(),T=t.useCallback((function(e){I([].concat(m()(g),[e]))}),[g]);return n?v?t.createElement(P.Sl,null,t.createElement(h.r,{onClick:function(){s.event("collection.unfollowed",{collectionId:n,followSource:u}),S(),a()}},"Unfollow this publication")):p?null:t.createElement(P.Sl,null,t.createElement(h.r,{onClick:function(){s.event("collection.muted",o),d(),E&&(T(n),r&&(w(),y.goBack())),a()}},"Mute this publication")):null};function G(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Q(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?G(Object(i),!0).forEach((function(n){v()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var z=function(e){var n=e.postId,i=e.creatorId,a=e.collectionId,d=e.isActiveExpandedPost,o=e.setDismissedPostId,l=(0,g.r)().viewerId,r=t.useState(!1),s=S()(r,2),u=s[0],c=s[1],k=(0,b.l)(i,a),v=k.muteAuthor,p=k.mutePub,D=(0,F.sK)().clearExpandedState,V=(0,f.k6)(),O=(0,N.jM)(),L=O.seeLessPostIds,U=O.setSeeLessPostIds,j=O.isMutingFromHomeFeed,H=(0,T.w)(),G=(0,C.Av)(),z=(0,x.pK)(),W=(0,A.PM)(),J=(0,M.v9)((function(e){return e.navigation.referrer})),Z=(0,M.v9)((function(e){return e.navigation.currentLocation})),Y={postId:n,location:Z,referrer:J,source:z,referrerSource:W},X=t.useRef(null),q=function(){null!==X.current&&window.clearTimeout(X.current)},$=function(){X.current=window.setTimeout((function(){G.event("post.see_less",Q({userId:l,collection:a},Y))}),5e3),j&&(U([].concat(m()(L),[n])),d&&(D(),V.goBack()),o&&o(n)),H({toastStyle:"USER_NEGATIVE_SIGNAL",extraParams:{onClickUndo:q}}),c(!1)},ee=t.useCallback((function(){return t.createElement(P.mX,null,t.createElement(E.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"4px",marginBottom:"4px"},t.createElement(P.Sl,null,t.createElement(h.r,{onClick:$,"aria-label":"Show less like this"},t.createElement(E.x,{display:"flex",flexDirection:"row",alignItems:"center",borderBottom:void 0,ariaHidden:"true"},t.createElement(E.x,{marginRight:"4px"},t.createElement(R,null)),t.createElement(E.x,null,"Show less like this"))))),t.createElement(B,{creatorId:i,viewerId:l,muteAuthor:v,isActiveExpandedPost:d,hidePopover:function(){return c(!1)},eventData:Q({targetUserId:i},Y)}),a&&t.createElement(K,{collectionId:a,viewerId:l,mutePub:p,isActiveExpandedPost:d,hidePopover:function(){return c(!1)},eventData:Q({collection:a},Y)}),t.createElement(I.z,{postId:n,viewerId:l,targetUserId:i||"",shouldShowShortenedCopy:!0,hidePopover:function(){return c(!1)}}))}),[u,L]);if(!i)return null;var ne=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}};return t.createElement(w.J,{isVisible:u,hide:function(){return c(!1)},popoverRenderFn:ee},t.createElement(h.r,{onClick:function(){return c(!0)},"aria-label":"More options"},t.createElement(y.h,null,(function(e){return t.createElement(_.Z,{className:e(ne)})}))))},W=function(e){var n=e.post,i=e.index,c=e.isActiveExpandedPost,m=e.setDismissedPostId,k=n.creator,v=n.collection,p=(0,o.H)().value,S=(0,l.gY)(v).viewerEdge,f=!(null==S||!S.isEditor),N=(null==p?void 0:p.id)===(null==k?void 0:k.id),b=!(0,a.SK)()||(null==p?void 0:p.dismissableFlags.includes(u.T3.BETA_FIRST_USE_CTA));return k?f||N?t.createElement(s.B,null,(function(e){var i=e.show;return t.createElement(d.Z,{post:n,creator:k,collection:v,showLoadingIndicator:i})})):0===i&&b?t.createElement(r.o,{flag:u.T3.USER_SIGNAL_MENU,text:"Improve your recommendations by telling us which stories you're not interested in.",dismissText:"OK",placement:"top"},t.createElement(z,{postId:n.id,creatorId:k.id,collectionId:null==v?void 0:v.id,isActiveExpandedPost:c,setDismissedPostId:m})):t.createElement(z,{postId:n.id,creatorId:k.id,collectionId:null==v?void 0:v.id,isActiveExpandedPost:c,setDismissedPostId:m}):null}},44346:(e,n,i)=>{"use strict";i.d(n,{S:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]}},30570:(e,n,i)=>{"use strict";i.d(n,{sK:()=>k,L0:()=>v});var t=i(28655),a=i.n(t),d=i(63038),o=i.n(d),l=i(71439),r=i(67294),s=i(73788),u=i(11615);function c(){var e=a()(["\n  fragment InlineExpansionContext_post on Post {\n    id\n    creator {\n      id\n      customStyleSheet {\n        id\n        blogroll {\n          visibility\n        }\n      }\n      isAuroraVisible\n      followedCollections\n      socialStats {\n        followingCount\n        collectionFollowingCount\n      }\n      ...UserSubscribeButton_user\n    }\n    collection {\n      id\n      canToggleEmail\n      description\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n      tagline\n    }\n    customStyleSheet {\n      id\n      blogroll {\n        visibility\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var m=r.createContext({expandedPostId:null,setExpandedPostId:function(){},postInView:!1,setPostInView:function(){},expandedPost:null,setExpandedPost:function(){},clearExpandedState:function(){}}),k=function(){return r.useContext(m)},v=function(e){var n=e.children,i=r.useState(null),t=o()(i,2),a=t[0],d=t[1],l=r.useState(!1),u=o()(l,2),c=u[0],k=u[1],v=r.useState(null),p=o()(v,2),S=p[0],f=p[1];return r.createElement(m.Provider,{value:{expandedPostId:a,setExpandedPostId:d,postInView:c,setPostInView:k,expandedPost:S,setExpandedPost:f,clearExpandedState:function(){f(null),d(null),k(!1)}}},r.createElement(s.k,{post:S,preload:!0},n))};(0,l.Ps)(c(),u.w)},77329:(e,n,i)=>{"use strict";i.d(n,{G:()=>u});var t=i(319),a=i.n(t),d=i(28233),o=i(10414),l=i(35963),r=i(76992),s=i(44346),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}}]}}].concat(a()(d.x.definitions),a()(o.m.definitions),a()(l.C.definitions),a()(o.G.definitions),a()(r.JP.definitions),a()(s.S.definitions))}},76992:(e,n,i)=>{"use strict";i.d(n,{JP:()=>o});var t=i(319),a=i.n(t),d=i(36896),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat(a()(d.U.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClapMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numClaps"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"numClaps"},value:{kind:"Variable",name:{kind:"Name",value:"numClaps"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_viewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]),a()(o.definitions))},36896:(e,n,i)=>{"use strict";i.d(n,{U:()=>a});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostVotersNetwork_post"}}]}}].concat(i.n(t)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostVotersNetwork_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"voterCount"}},{kind:"Field",name:{kind:"Name",value:"recommenders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]))}},35963:(e,n,i)=>{"use strict";i.d(n,{C:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auroraHooks_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}}]}}]}}]}},28233:(e,n,i)=>{"use strict";i.d(n,{x:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}},29577:(e,n,i)=>{"use strict";i.d(n,{L:()=>o});var t=i(68356),a=i.n(t),d=i(19725),o=a()({loader:function(){return Promise.all([i.e(84792),i.e(17084),i.e(19692),i.e(95145),i.e(63303),i.e(5850),i.e(54803),i.e(55402),i.e(99590),i.e(23913),i.e(97417)]).then(i.bind(i,55358))},modules:["src/components/responses/post/ThreadedResponsesSidebar"],webpack:function(){return[55358]},loading:function(){return null},render:(0,d.n)("ThreadedResponsesSidebar")})},73788:(e,n,i)=>{"use strict";i.d(n,{k:()=>u});var t=i(63038),a=i.n(t),d=i(67294),o=i(49486),l=i(29577),r=i(70586),s=i(92214),u=function(e){var n=e.children,i=e.post,t=e.preload,u=void 0===t||t,c=d.useState(void 0),m=a()(c,2),k=m[0],v=m[1],p=d.useCallback((function(e){return function(n){v(n),e()}}),[]);return d.createElement(r.E,{preload:u},(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,u=e.isVisible,c=e.continueThisThreadPosts,m=e.openSidebar,S=e.cleanupSidebar;return d.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:p(m)}},!!i&&a&&d.createElement(l.L,{isResponsesSidebarVisible:u&&0===c.length,parentPost:i,inResponseToQuote:k,setInResponseToQuote:v,showPreviousSidebar:t,cleanupSidebar:S,initialSidebarRender:!!r.current}),!!i&&a&&c.map((function(e,n,a){var o=(0,s.iI)(n);return d.createElement(l.L,{key:i.id,isResponsesSidebarVisible:u&&n===a.length-1,parentPost:i,inResponseToQuote:k,setInResponseToQuote:v,continueThisThreadPost:e,continueThisThreadPostDepth:o,showPreviousSidebar:t,cleanupSidebar:S,initialSidebarRender:!!r.current})})),n)}))}},70586:(e,n,i)=>{"use strict";i.d(n,{E:()=>p});var t=i(319),a=i.n(t),d=i(63038),o=i.n(d),l=i(38125),r=i.n(l),s=i(67294),u=i(29577),c=i(72393),m=i(77180),k=i(27108),v=i(8403),p=function(e){var n=e.preload,i=e.children,t=s.useState(!1),d=o()(t,2),l=d[0],p=d[1],S=(0,m.F)(),f=!!(0,v.Wd)("responsesOpen"),N=s.useState(!1),b=o()(N,2),F=b[0],g=b[1],P=s.useRef(!0),I=s.useRef(0),E=s.useState(!1),h=o()(E,2),w=h[0],y=h[1],C=s.useCallback((function(){return g(!0)}),[]),x=s.useState([]),T=o()(x,2),A=T[0],M=T[1],_=s.useCallback((function(e){P.current=!1,M([].concat(a()(A),[e]))}),[A]),D=s.useCallback((function(){M(r()(A))}),[A]),V=s.useCallback((function(){g(!1),M([]),P.current=!0}),[]);s.useEffect((function(){y(!0),g(f)}),[f]);var O=function(){window.innerWidth<S.breakpoints.md&&p(!0)};return s.useEffect((function(){return O(),k.V6.on("resize",O),function(){return k.V6.off("resize",O)}}),[]),s.useEffect((function(){var e,n,i=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return l&&null!=i&&i.style&&(F?(i.style.top="-".concat(I.current,"px"),I.current=i.scrollTop,i.style.overflow="hidden",i.style.position="fixed"):(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=I.current)),function(){l&&null!=i&&i.style&&(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=I.current)}}),[F]),s.useEffect((function(){n&&u.L.preload()}),[n]),s.createElement(c.f.Provider,{value:{addContinueThisThreadSidebar:_,openSidebar:C,closeSidebar:V}},i({showPreviousSidebar:D,hasLoaded:w,initialSidebarRender:P,isVisible:F,continueThisThreadPosts:A,openSidebar:C,cleanupSidebar:V}))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/56590.f79c7e7b.chunk.js.map