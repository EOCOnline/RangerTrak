<mat-card>
  <mat-card-content>
    <h2 class="example-h2">Slider configuration</h2>

    <section class="example-section">
      <mat-form-field class="example-margin" appearance="fill">
        <mat-label>Value</mat-label>
        <input matInput type="number" [(ngModel)]="value" />
      </mat-form-field>
    </section>

    <section class="example-section">
      <mat-checkbox class="example-margin" [(ngModel)]="thumbLabel"
        >Show thumb label</mat-checkbox
      >
    </section>

    <section class="example-section">
      <mat-checkbox class="example-margin" [(ngModel)]="disabled"
        >Disabled</mat-checkbox
      >
    </section>
  </mat-card-content>
</mat-card>

<mat-card class="example-result-card">
  <mat-card-content>
    <h2>Result</h2>
    <br />
    <br />

    <div
      class="example-label-container"
      [class]="vertical ? 'example-label-vertical' : 'example-label-horizontal'"
    >
      <label id="example-name-label" class="example-name-label"
        >Max Value</label
      >
      <label class="example-value-label">{{value}}</label>
    </div>
    <mat-slider
      class="example-margin"
      [disabled]="disabled"
      [invert]="invert"
      [max]="max"
      [min]="min"
      [step]="step"
      [thumbLabel]="thumbLabel"
      [(ngModel)]="value"
      [vertical]="vertical"
      aria-labelledby="example-name-label"
    >
    </mat-slider>
  </mat-card-content>
</mat-card>

<hr>
<hr>
<hr>




<div class="container">
  <form [formGroup]="entryDetailsForm" (ngSubmit)="onFormSubmit()" class="enter__form">

    <h1>Entry Form</h1>
    <h2 class="elegant">Who</h2>

    <!--  https://material.angular.io/components/autocomplete/examples#autocomplete-overview -->
    <mat-form-field class="enter__Callsign" appearance="fill">
      <mat-label>CallSign</mat-label>

      <input matInput [formControl]="callsignCtrl" type="text" placeholder="Pick one" aria-label="Callsigns"
        [matAutocomplete]="auto" (change)=this.CallsignCtrlChanged()>

      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let ranger of filteredRangers | async" [value]="ranger.callsign">
          <img class="enter__Callsign-img" aria-hidden [src]="ranger.image" height="40">
          <span>{{ranger.callsign}}</span> |
          <small> {{ranger.licensee}} | {{ranger.phone}}</small>
        </mat-option>
      </mat-autocomplete>

    </mat-form-field>
    <span id="enter__Callsign-upshot"></span>

    <div #div1 class="input-group">(or all of) this Team:
      <input [class.border-danger]="entryDetailsForm.get('team')?.touched && entryDetailsForm.get('team')?.invalid"
        type="text" formControlName="team" placeholder="Team">
      <div *ngIf="entryDetailsForm.get('team')?.touched && entryDetailsForm.get('team')?.hasError('required')"
        class="text-sm text-danger">Team is required</div>
    </div>


    <div id="enter__SmallMap"></div>


    <h2 class="elegant">Where</h2>
    <div class="input-group">Street Address:
      <input
        [class.border-danger]="entryDetailsForm.get('address')?.touched && entryDetailsForm.get('address')?.invalid"
        type="text" formControlName="address" placeholder="Address">
      <!--div
        *ngIf="entryDetailsForm.get('address')?.touched && entryDetailsForm.get('address')?.hasError('required')"
        class="text-sm text-danger">address is required</div  -->
      <!--/div-->

      <div>Derived Address: <span id="derivedAddress" #derivedAddress>WA locale; Full code: +Code: 8VCWVF22+</span>
      </div>

      <div class="input-group">Latitude:
        <input [class.border-danger]="entryDetailsForm.get('lat')?.touched && entryDetailsForm.get('lat')?.invalid"
          type="number" formControlName="lat" placeholder="Latitude">
        <div *ngIf="entryDetailsForm.get('lat')?.touched && entryDetailsForm.get('lat')?.hasError('required')"
          class="text-sm text-danger">lat is required</div>
      </div>

      <div class="input-group">Longitude:
        <input [class.border-danger]="entryDetailsForm.get('long')?.touched && entryDetailsForm.get('long')?.invalid"
          type="number" formControlName="long" placeholder="Longitude">
        <div *ngIf="entryDetailsForm.get('long')?.touched && entryDetailsForm.get('long')?.hasError('required')"
          class="text-sm text-danger">long is required</div>
      </div>
    </div>

    <h2 class="elegant">When</h2>
    <!-- TODO: Use Time Picker: https://material.io/components/time-pickers#usage -->
    <div class="input-group">Date:
      <input [class.border-danger]="entryDetailsForm.get('date')?.touched && entryDetailsForm.get('date')?.invalid"
        type="datetime" formControlName="date" placeholder="date">
      <div *ngIf="entryDetailsForm.get('date')?.touched && entryDetailsForm.get('date')?.hasError('required')"
        class="text-sm text-danger">date is required</div>
    </div>

    <h2 class="elegant">What</h2>

    <div class="input-group">Status:
      <select formControlName="status"
        [class.border-danger]="entryDetailsForm.get('status')?.touched && entryDetailsForm.get('status')?.invalid">
        <!--option [value]="'NewStatus'">Adds Additional Value</option-->
        <option [value]="stat" *ngFor="let stat of fieldReportStatuses">{{stat}}</option>
      </select>
      <div *ngIf="entryDetailsForm.get('status')?.touched && entryDetailsForm.get('status')?.hasError('required')"
        class="text-sm text-danger">Status is required</div>

      <textarea formControlName="note" class="enter__What--area" id="" cols="40" rows="5"
        placeholder="Enter Any Notes"></textarea>
    </div>

    <!-- TODO: Add h4> Keywords</h4>
    <div formArrayName="keywords">
      <div *ngIf="keywordsControls && keywordsControls.length">
        <div *ngFor="let keywordControl of keywordsControls; let i = index">
          <div class="input-group">
            <input [class.border-danger]="keywordControl.touched && keywordControl.invalid" [formControlName]="i"
              type="text" placeholder="keyword" />
            <div *ngIf="keywordControl.touched && keywordControl.hasError('required')" class="text-sm text-danger">
              keyword Name is required</div>
          </div>
          <hr>
        </div>
      </div>
    </div-->


    <!--div class="input-group"># Fakes</div-->
    <input matInput type="number" [(ngModel)]="nFakes">

    <!--  https://material.angular.io/components/slider/overview -->
    <mat-slider id="enter__Fake--slider" thumbLabel [displayWith]="formatLabel" tickInterval="10" step="5" min="0" max="100" aria-label="# Fake Field Reports"
    [(ngModel)]="nFakes"></mat-slider>

<!--
      <input [class.border-danger]="entryDetailsForm.get('team')?.touched && entryDetailsForm.get('team')?.invalid"
        type="text" formControlName="team" placeholder="Team">
      <div *ngIf="entryDetailsForm.get('team')?.touched && entryDetailsForm.get('team')?.hasError('required')"
        class="text-sm text-danger">Team is required</div>
    </div-->





    <br>
    <button (click)="generateFakeFieldReports(entryDetailsForm.get('numF')!.value)">Generate
      {{nFakes}} FAKE Field Reports</button><br>

    <br>
    <!--button (click)="updateLocation()">Update location</button> <br-->
    <button (click)="this.entryDetailsForm.reset()">Reset (native)</button> <br>
    <button (click)="resetForm()">Reset (John's Special)</button> <br>

    <br>
    <button [disabled]="entryDetailsForm.invalid"
      class="enter__Submit-button" type="submit">Submit</button>

    <span id="enter__Submit-info"></span>

  </form>
</div>
