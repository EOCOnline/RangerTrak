<pageHeader [parentTitle]="title" [pageDescription]="pageDescr">...</pageHeader>
<div class="container">
  <form #frm="ngForm" [formGroup]="entryDetailsForm" (ngSubmit)="onFormSubmit(frm.value)" class="enter__form">
    <mini-lmap [locationUpdated]="location">LMAP HERE</mini-lmap>
    <!--mini-gmap [locationUpdated]="location">GMAP HERE</mini-gmap-->

    <!-- ======================================= -->
    <h2 class="elegant">
      <mat-label>Who</mat-label>
    </h2>

    <!--  https://material.angular.io/components/autocomplete/examples#autocomplete-overview
    https://www.wufoo.com/html5/tabindex-attribute/ -->
    <mat-form-field class="enter__Callsign" appearance="fill">
      <mat-label>CallSign</mat-label>

      <input matInput [formControl]="callsignCtrl" type="text" placeholder="Pick one" aria-label="Callsigns"
        formControlName="callsign" [matAutocomplete]="auto" (change)="this.callsignCtrlChanged()"
        id="enter__Callsign-input" tabindex="1" data-lpignore="true" />

      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let ranger of filteredRangers | async" [value]="ranger.callsign">
          <!--img class="enter__Callsign-img" aria-hidden [src]="ranger.image" height="40"-->
          <span>{{ranger.callsign}}</span> |
          <small> {{ranger.licensee}} | {{ranger.phone}}</small>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <span id="enter__Callsign-upshot"></span>
    <br />

    <!-- ======================================= -->
    <h2 class="elegant">
      <mat-label>Where</mat-label>&nbsp;&nbsp;

      <!--fa-icon
        [icon]="faInfoCircle"
        id="button"
        aria-describedby="tooltip"
        title="Click info icon for info!"
        alt="info icon"
      ></fa-icon -->

      <span class="small">(updates map to the right)</span><img src="../../assets/icons/information-outline.png"
        title="Enter the longitude either in Degrees Decmal or as Degrees & Minutes Decimal or as Degrees Minutes & Seconds"
        alt="info icon" />
    </h2>

    <!--onchange="DDCoordsChanged()

      "FormControl="timepickerFrmControl"
      formGroupName="locationFrmGrp"

      {{lat | number:'1.4-5'}}
      {{entryDetailsForm.get(lat) | number:'1.4-5'}} -->

    <!-- from Majd Asab in Medium.com...
   [(ngModel)]="extLocation" name="extLocationVal" #validations=""ngModel"-->

    <div>
      <rangertrak-location #location (newLocationEvent)="onNewLocationParent($event)" [initialLat]="initialLat"
        [initialLng]="initialLng">

      </rangertrak-location>
    </div>

    <!-- =======================================
        optional:  [initialDate] = "initialTime"
          -->
    <h2 class="elegant">
      <mat-label>When</mat-label>
    </h2>

    <div FormControl="timepickerFormControl" class="filled timepicker timepicker_When-input">
      <rangertrak-time-picker #picker [datePickerLabel]="timePickerLabel" (newTimeEvent)="onNewTimeEvent($event)">
      </rangertrak-time-picker>
    </div>

    <!-- ======================================= -->
    <h2 class="elegant bordered">
      <mat-label>What</mat-label>
    </h2>

    <div class="input-group bordered">
      <!-- mat-label><div class="strong bottomDrop">Status:</div></mat-label -->
      <mat-radio-group class="filled  enter__Status" labelPosition="after" formControlName="status" tabindex="7"><span
          class="bottomDrop">Status:&nbsp;&nbsp;</span>
        <mat-radio-button *ngFor="let stat of settings.fieldReportStatuses" value="{{stat.status}}" class="rButton">
          <span style="color:{{stat.color}}"> {{stat.status}} </span>&nbsp;&nbsp;&nbsp;
          <!-- Disabling intelephense.diagnostics.embeddedLanguages -->
        </mat-radio-button>
      </mat-radio-group>
      <br />
      <br />

      <textarea class="input-group enter__What--area" formControlName="notes" id="enter__What--area" cols="80" rows="5"
        placeholder="Enter Any Notes" tabindex="8"></textarea>
    </div>

    <!-- ======================================= -->
    <!-- TODO: Add h4> Keywords</h4>
    <div formArrayName="keywords">
      <div *ngIf="keywordsControls && keywordsControls.length">
        <div *ngFor="let keywordControl of keywordsControls; let i = index">
          <div class="input-group">
            <input [class.border-danger]="keywordControl.touched && keywordControl.invalid" [formControlName]="i"
              type="text" placeholder="keyword" />
            <div *ngIf="keywordControl.touched && keywordControl.hasError('required')" class="text-sm text-danger">
              keyword Name is required</div>
          </div>
          <hr>
        </div>
      </div>
    </div-->

    <br />

    <!-- ======================================= -->
    <!--button (click)="onBtnUpdateLocation()">Update location</button> <br-->
    <!--button (click)="this.entryDetailsForm.reset()" type="reset">Reset (native)</button> <br-->
    <button (click)="resetEntryForm()" title="Reset all form fields to their defaults" class="eButton" type="button">
      Reset
    </button>

    <button class="enter__Submit-button eButton" [disabled]="entryDetailsForm.invalid" type="submit" tabindex="9">
      Submit
    </button>

    <span id="enter__Submit-info"></span>

    <div class="margin-20">
      <div>entryForm details:-</div>
      <pre>Is entryForm valid?: <br>{{entryDetailsForm.valid | json}}</pre>
      <pre>form value: <br>{{entryDetailsForm.value | json}}</pre>
    </div>
  </form>
</div>

<!--
<fieldset>
      <legend>Where</legend>
      Street Address, +Code, or What3Words (optional): <input name="addresses" id="addresses" type="text" size="15"
        value="" placeholder="" title="Enter www.Plus.Codes, www.What3Words.com, or streeet address for geocoding."
        onchange="chkAddresses()">
      <placeholder="84VVCGWP+VW" title ="Enter short or full PlusCode" placeholder="pil.tutles.binde">
      <span id="addressLabel" value=""></span>
      <span id="pCodeGlobal"></span>
      <br>
      Latitude: &nbsp;&nbsp;
      <input name="latitudeQ" id="latitudeQ" type="text" value="N" size="1" pattern="'e','E','w','W'" title="E or W"
        onchange="DMSCoordsChanged()"> <!- Quadrant ->
      <input name="latitudeD" id="latitudeD" type="text" value="47" size="2" min="0" max="180" onchange="DMSCoordsChanged()">째
      <input name="latitudeM" id="latitudeM" type="text" value="" size="2" min="0" max="59" onchange="DMSCoordsChanged()">'
      <input name="latitudeS" id="latitudeS" type="text" value="" size="5" min="0" max="59.99" onchange="DMSCoordsChanged()">"
      &nbsp;&nbsp; or &nbsp;&nbsp;<input name="latitudeDD" id="latitudeDD" type="text" size="7" min="-180" max="180"
        onchange="DDCoordsChanged()">째
      <br>
      Longitude:
      <input name="longitudeQ" id="longitudeQ" type="text" value="W" size="1" pattern="'n','N','s','S'" title="N or S"
        onchange="DMSCoordsChanged()">
      <input name="longitudeD" id="longitudeD" type="text" value="122" size="2" max="180" onchange="DMSCoordsChanged()">째
      <input name="longitudeM" id="longitudeM" type="text" value="" size="2" min="0" max="59" onchange="DMSCoordsChanged()">'
      <input name="longitudeS" id="longitudeS" type="text" value="" size="5" min="0" max="59.99"
        onchange="DMSCoordsChanged()">"
      &nbsp;&nbsp; or &nbsp;&nbsp;<input name="longitudeDD" id="longitudeDD" type="text" size="7" min="-180" max="180"
        onchange="DDCoordsChanged()">째
      <br>
    </fieldset>
-->

<!--div id="enter__frm-reguritation">
      <pre>{{ frm.value |json}}</pre>
    </div-->
